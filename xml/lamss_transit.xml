<?xml version="1.0" encoding="UTF-8" ?>
<!-- command to transit via a set of points --> 
<message_set>
  <message>
    <name>LAMSS_TRANSIT</name>
    <trigger>publish</trigger> 
    <trigger_moos_var mandatory_content="MessageType=LAMSS_TRANSIT">
      OUTGOING_COMMAND
    </trigger_moos_var>
    <size>32</size>
    <header>
      <id>17</id>
      <dest_id>
        <name>DestinationPlatformId</name>
      </dest_id>
    </header>
    <layout>
      <static>
        <name>MessageType</name>
        <value>LAMSS_TRANSIT</value>
      </static>
      <enum>
        <name>Transit_Mode</name>
        <value>DIRECT</value>
        <value>ROUTE</value>
      </enum>
      <float>
        <name>Transit_Depth</name>
        <max>500</max>
        <min>0</min>
	<precision>1</precision>
      </float>
      <float>
        <name>Transit_Speed</name>
        <max>3</max>
        <min>0</min>
	<precision>1</precision>
      </float>
      <float>
        <name>x_1</name>
        <max>20470</max>
        <min>-20470</min>
        <precision>-1</precision>
      </float>
      <float>
        <name>y_1</name>
        <max>20470</max>
        <min>-20470</min>
        <precision>-1</precision>
      </float>
      <float>
        <name>x_2</name>
        <max>20470</max>
        <min>-20480</min>
        <precision>-1</precision>
      </float>
      <float>
        <name>y_2</name>
        <max>20470</max>
        <min>-20480</min>
        <precision>-1</precision>
      </float>
      <float>
        <name>x_3</name>
        <max>20470</max>
        <min>-20480</min>
        <precision>-1</precision>
      </float>
      <float>
        <name>y_3</name>
        <max>20470</max>
        <min>-20480</min>
        <precision>-1</precision>
      </float>
      <float>
        <name>x_4</name>
        <max>20470</max>
        <min>-20480</min>
        <precision>-1</precision>
      </float>
      <float>
        <name>y_4</name>
        <max>20470</max>
        <min>-20480</min>
        <precision>-1</precision>
      </float>
      <float>
        <name>x_5</name>
        <max>20470</max>
        <min>-20480</min>
        <precision>-1</precision>
      </float>
      <float>
        <name>y_5</name>
        <max>20470</max>
        <min>-20480</min>
        <precision>-1</precision>
      </float>
    </layout>
    <on_receipt>        
      <publish>
        <moos_var>TRANSIT_PATH_IN</moos_var>
        <all />
      </publish>
      <publish>
        <moos_var>TRANSIT_DEPTH</moos_var>
        <format>depth=%f</format>
        <message_var>Transit_Depth</message_var>
      </publish>
      <publish>
        <moos_var>TRANSIT_ROUTE_IN</moos_var>
        <format>speed=%f#points=%d,%d:%d,%d:%d,%d:%d,%d:%d,%d</format>
        <message_var>Transit_Speed</message_var>
        <message_var>x_1</message_var>
        <message_var>y_1</message_var>
        <message_var>x_2</message_var>
        <message_var>y_2</message_var>
        <message_var>x_3</message_var>
        <message_var>y_3</message_var>
        <message_var>x_4</message_var>
        <message_var>y_4</message_var>
        <message_var>x_5</message_var>
        <message_var>y_5</message_var>
      </publish>
      <publish>
        <moos_var>TRANSIT_MODE</moos_var>
        <message_var>Transit_Mode</message_var>
      </publish>
    </on_receipt>    
    <queuing>
      <ttl>300</ttl>
      <value_base>10</value_base>
    </queuing>
  </message>
</message_set>
