<?xml version="1.0" encoding="ASCII" standalone="yes"?>
<!-- contains nafcon (plus) commands: deploy, prosecute 
 for replacing pFramer (but still need pNaFCon) --> 
<message_set>
  <message>
    <name>SENSOR_DEPLOY</name>
    <trigger>publish</trigger> <!-- package upon publish to some moos var -->
    <trigger_moos_var mandatory_content="MessageType=SENSOR_DEPLOY">
      PLUSNET_MESSAGES
    </trigger_moos_var>
    <size>32</size>
    <header>
      <id>10</id>
      <time>
        <name>Timestamp</name>
      </time>
      <src_id>
        <name>SourcePlatformId</name>
      </src_id>
      <dest_id>
        <name>DestinationPlatformId</name>
      </dest_id>
    </header>
    <layout>
      <static>
        <name>MessageType</name>
        <value>SENSOR_DEPLOY</value>
      </static>
      <static>
        <name>SensorCommandType</name>
        <value>0</value>
      </static>
      <float>
        <name>DeployLongitude</name>
        <precision>5</precision>
        <max>180</max>
        <min>-180</min>
      </float>
      <float>
        <name>DeployLatitude</name>
        <precision>5</precision>
        <max>90</max>
        <min>-90</min>
      </float>
      <int>
        <name>DeployDepth</name>
        <max>254</max>
        <min>0</min>
      </int>
      <int>
        <name>DeployDuration</name>
        <max>62</max>
        <min>1</min>
      </int>
      <float>
        <name>AbortLongitude</name>
        <precision>4</precision>
        <max>180</max>
        <min>-180</min>
      </float>
      <float>
        <name>AbortLatitude</name>
        <precision>4</precision>
        <max>90</max>
        <min>-90</min>
      </float>
      <int>
        <name>AbortDepth</name>
        <max>510</max>
        <min>0</min>
      </int>
      <int>
        <name>MissionType</name>
        <max>14</max>
        <min>0</min>
      </int>
      <int>
        <name>OperatingRadius</name>
        <max>1022</max>
        <min>0</min>
      </int>
      <float algorithm="angle_0_360">
        <name>DCLFOVStartHeading</name>
        <max>360</max>
        <min>0</min>
        <precision>1</precision>
      </float>
      <float algorithm="angle_0_360">
        <name>DCLFOVEndHeading</name>
        <max>360</max>
        <min>0</min>
        <precision>1</precision>
      </float>
      <float>
        <name>DCLSearchRate</name>
        <max>254</max>
        <min>0</min>
        <precision>1</precision>
      </float>
    </layout>
    <!-- decoding -->
    <on_receipt>        
      <publish>
        <moos_var>NAFCON_MESSAGES</moos_var>
        <all />
      </publish>
    </on_receipt>    
    <queuing>
      <ttl>300</ttl>
      <value_base>10</value_base>
    </queuing>
  </message>
  <message>
    <name>SENSOR_PROSECUTE</name>
    <destination_moos_var key="DestinationPlatformId">PLUSNET_MESSAGES</destination_moos_var>
    <trigger>publish</trigger> <!-- package upon publish to some moos var -->
    <trigger_moos_var mandatory_content="MessageType=SENSOR_PROSECUTE">
      PLUSNET_MESSAGES
    </trigger_moos_var>
    <size>32</size>
    <header>
      <id>11</id>
      <time>
        <name>TargetTimestamp</name>
      </time>
      <src_id>
        <name>SourcePlatformId</name>
      </src_id>
      <dest_id>
        <name>DestinationPlatformId</name>
      </dest_id>
    </header>
    <layout>
      <static>
        <name>MessageType</name>
        <value>SENSOR_PROSECUTE</value>
      </static>
      <int>
        <name>SensorCommandType</name>
        <min>1</min>
        <max>4</max>
      </int>
      <int>
        <name>TargetPlatformID</name>
        <max>30</max>
        <min>0</min>
      </int>
      <int>
        <name>TargetTrackNumber</name>
        <max>254</max>
        <min>0</min>
      </int>
      <float>
        <name>TargetLongitude</name>
        <precision>5</precision>
        <max>180</max>
        <min>-180</min>
      </float>
      <float>
        <name>TargetLatitude</name>
        <precision>5</precision>
        <max>90</max>
        <min>-90</min>
      </float>
      <int>
        <name>TargetDepth</name>
        <max>1022</max>
        <min>0</min>
      </int>
      <float algorithm="angle_0_360">
        <name>TargetHeading</name>
        <max>360</max>
        <min>0</min>
        <precision>1</precision>
      </float>
      <float>
        <name>TargetSpeed</name>
        <max>12.8</max>
        <min>0</min>
        <precision>0</precision>
      </float>
      <int>
        <name>TargetSpectralLevel1</name>
        <max>126</max>
        <min>0</min>
      </int>
      <int>
        <name>TargetFrequency1</name>
        <max>4094</max>
        <min>0</min>
      </int>
      <int>
        <name>TargetBandwidth1</name>
        <max>20</max>
        <min>0</min>
      </int>
      <int>
        <name>TargetSpectralLevel2</name>
        <max>126</max>
        <min>0</min>
      </int>
      <int>
        <name>TargetFrequency2</name>
        <max>4094</max>
        <min>0</min>
      </int>
      <int>
        <name>TargetBandwidth2</name>
        <max>20</max>
        <min>0</min>
      </int>
      <int>
        <name>ProsecuteDuration</name>
        <max>62</max>
        <min>1</min>
      </int>
      <float>
        <name>AbortLongitude</name>
        <precision>4</precision>
        <max>180</max>
        <min>-180</min>
      </float>
      <float>
        <name>AbortLatitude</name>
        <precision>4</precision>
        <max>90</max>
        <min>-90</min>
      </float>
      <int>
        <name>AbortDepth</name>
        <max>126</max>
        <min>0</min>
      </int>
    </layout>
    <!-- decoding -->
    <on_receipt>        
      <publish>
        <moos_var>NAFCON_MESSAGES</moos_var>
        <all />
      </publish>
    </on_receipt>
    <queuing>
      <ttl>300</ttl>
      <value_base>10</value_base>
    </queuing>
  </message>
</message_set>
