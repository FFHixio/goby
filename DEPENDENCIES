# Dependencies for Goby
#
# At a minimum, Goby-Util and Goby-Acomms can be built in a C++ development environment 
# that also includes Google Protocol Buffers (http://code.google.com/p/protobuf/)
# and Boost (http://www.boost.org/). Both of these will readily compile on most
# embedded systems. The other dependencies add useful functionality.
#
# Goby-Core requires ZeroMQ (http://www.zeromq.org/) in addition to the dependencies for Goby-Acomms. Again, this small library will compile well on most systems.
#
# This is a makefile in disguise. 
# Most users of Goby-Acomms will type:
# > sudo make -f DEPENDENCIES ubuntu-minimal
# Otherwise for Goby-Core and more functionality, 
# > sudo make -f DEPENDENCIES ubuntu-suggested
#
# LINUX
# This script will attempt to install packages using `apt-get` for
# Debian (and derivatives). Pick a target that fulfills your needs:
# > make {dist-name}-minimal    |  installs minimal dependencies for using Goby
# > make {dist-name}-suggested  |  installs dependencies to give Goby more functionality
#                                  (recommended!)

# minimal targets
debian-minimal:
	@echo
	@echo
	@echo "Installing minimal dependencies (Boost and Google Protocol Buffers)"
	@apt-get install \
		build-essential \
		cmake \
		libboost-dev \
		libboost-system-dev \
		libboost-date-time-dev \
		libboost-thread-dev \
		libboost-program-options-dev \
		libboost-filesystem-dev \
		libprotobuf-dev \
		libprotoc-dev \
		protobuf-compiler \
		-y

ubuntu-minimal: debian-minimal

# suggested targets

debian-suggested: debian-minimal
	@echo
	@echo
	@echo "Installing suggested dependencies"
	@apt-get install \
	 	libcrypto++-dev \
		libncurses-dev \
		libwt-dev \
		libwtdbo-dev \
		libwtdbosqlite-dev \
		-y

ubuntu-suggested: debian-suggested
	@add-apt-repository ppa:goby-dev/ppa
	@apt-get update
	@apt-get install \
		libzmq-dev \
		-y 


# extra targets for special purposes

ubuntu-doc: 
	@echo
	@echo 
	@echo "Installing dependencies for generating documentation"
	@apt-get install \
		graphviz \
		doxygen \
		texlive-xetex \
		ttf-sil-gentium \
		imagemagick \
		texlive-fonts-recommended \
		texlive-font-utils \
		ghostscript \
		lmodern \
		texlive-latex-recommended \
		texlive-latex-extra \
		-y

ubuntu-moos: ubuntu-suggested
	@apt-get install \
		moos \
		-y 

ubuntu-moos-transitional: ubuntu-moos
	@apt-get install \
		libxerces-c-dev \
		-y 

# OpenSuSe Notes
# zypper install -t pattern devel_C_C++
# zypper install cmake
# zypper install boost-devel
# zypper install libxerces-c-devel
# (crypto++ from src)
# zypper install protobuf-devel
# zypper install cdk-devel
# zypper install wt-devel



# MAC OS X
# Use MacPorts to install the needed dependencies. You will have 
# to install Wt from source to /opt/local 
# I believe these are the ports necessary to compile moos-ivp,
# moos-ivp-local, and goby:
# 
# boost +universal
# cmake
# jpeg +universal
# libcryptopp +universal
# ncurses +universal
# ncursesw
# protobuf-cpp
# socat
# tiff +universal
# xercesc
# zlib +universal



# Windows
# Goby does not currently build on Windows
