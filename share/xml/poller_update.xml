<?xml version="1.0" encoding="UTF-8"?>
<message_set>
  <message>
    <name>POLLER_UPDATE</name>
    <trigger>publish</trigger>
    <trigger_moos_var>ACOMMS_POLLER_UPDATE_IN</trigger_moos_var>
    <size>32</size>
    <header>
      <id>27</id>
      <dest_id>
        <name>destination</name>
      </dest_id>
    </header>
    <layout>
      <enum>
        <name>update_type</name>
        <value>REPLACE</value>
        <value>ADD</value>
        <value>REMOVE</value>
      </enum>
      <enum>
        <name>poll_type1</name>
        <value>SLOT_DATA</value>
        <value>SLOT_PING</value>
        <value>SLOT_REMUS_LBL</value>
      </enum>
      <int>
        <name>poll_from_id1</name>
        <max>31</max>
        <min>0</min>
      </int>
<!-- poll_to_id=-1 means query pAcommsHandler for destination before polling. only works if the poll_from_id is the same as the vehicle doing the polling -->
      <int>
        <name>poll_to_id1</name>
        <max>31</max>
        <min>-1</min>
      </int>
      <int>
        <name>poll_rate1</name>
        <max>5</max>
        <min>-1</min>
      </int>
      <int>
        <name>poll_wait1</name>
        <max>120</max>
        <min>5</min>
      </int>
      
      <enum>
        <name>poll_type2</name>
        <value>SLOT_DATA</value>
        <value>SLOT_PING</value>
        <value>SLOT_REMUS_LBL</value>
      </enum>
      <int>
        <name>poll_from_id2</name>
        <max>31</max>
        <min>0</min>
      </int>
      <int>
        <name>poll_to_id2</name>
        <max>31</max>
        <min>-1</min>
      </int>
      <int>
        <name>poll_rate2</name>
        <max>5</max>
        <min>-1</min>
      </int>
      <int>
        <name>poll_wait2</name>
        <max>120</max>
        <min>5</min>
      </int>


      <enum>
        <name>poll_type3</name>
        <value>SLOT_DATA</value>
        <value>SLOT_PING</value>
        <value>SLOT_REMUS_LBL</value>
      </enum>
      <int>
        <name>poll_from_id3</name>
        <max>31</max>
        <min>0</min>
      </int>
      <int>
        <name>poll_to_id3</name>
        <max>31</max>
        <min>-1</min>
      </int>
      <int>
        <name>poll_rate3</name>
        <max>5</max>
        <min>-1</min>
      </int>
      <int>
        <name>poll_wait3</name>
        <max>120</max>
        <min>5</min>
      </int>

      <enum>
        <name>poll_type4</name>
        <value>SLOT_DATA</value>
        <value>SLOT_PING</value>
        <value>SLOT_REMUS_LBL</value>
      </enum>
      <int>
        <name>poll_from_id4</name>
        <max>31</max>
        <min>0</min>
      </int>
      <int>
        <name>poll_to_id4</name>
        <max>31</max>
        <min>-1</min>
      </int>
      <int>
        <name>poll_rate4</name>
        <max>5</max>
        <min>-1</min>
      </int>
      <int>
        <name>poll_wait4</name>
        <max>120</max>
        <min>5</min>
      </int>

      <enum>
        <name>poll_type5</name>
        <value>SLOT_DATA</value>
        <value>SLOT_PING</value>
        <value>SLOT_REMUS_LBL</value>
      </enum>
      <int>
        <name>poll_from_id5</name>
        <max>31</max>
        <min>0</min>
      </int>
      <int>
        <name>poll_to_id5</name>
        <max>31</max>
        <min>-1</min>
      </int>
      <int>
        <name>poll_rate5</name>
        <max>5</max>
        <min>-1</min>
      </int>
      <int>
        <name>poll_wait5</name>
        <max>120</max>
        <min>5</min>
      </int>

      <enum>
        <name>poll_type6</name>
        <value>SLOT_DATA</value>
        <value>SLOT_PING</value>
        <value>SLOT_REMUS_LBL</value>
      </enum>
      <int>
        <name>poll_from_id6</name>
        <max>31</max>
        <min>0</min>
      </int>
      <int>
        <name>poll_to_id6</name>
        <max>31</max>
        <min>-1</min>
      </int>
      <int>
        <name>poll_rate6</name>
        <max>5</max>
        <min>-1</min>
      </int>
      <int>
        <name>poll_wait6</name>
        <max>120</max>
        <min>5</min>
      </int>

      <enum>
        <name>poll_type7</name>
        <value>SLOT_DATA</value>
        <value>SLOT_PING</value>
        <value>SLOT_REMUS_LBL</value>
      </enum>
      <int>
        <name>poll_from_id7</name>
        <max>31</max>
        <min>0</min>
      </int>
      <int>
        <name>poll_to_id7</name>
        <max>31</max>
        <min>-1</min>
      </int>
      <int>
        <name>poll_rate7</name>
        <max>5</max>
        <min>-1</min>
      </int>
      <int>
        <name>poll_wait7</name>
        <max>120</max>
        <min>5</min>
      </int>

      <enum>
        <name>poll_type8</name>
        <value>SLOT_DATA</value>
        <value>SLOT_PING</value>
        <value>SLOT_REMUS_LBL</value>
      </enum>
      <int>
        <name>poll_from_id8</name>
        <max>31</max>
        <min>0</min>
      </int>
      <int>
        <name>poll_to_id8</name>
        <max>31</max>
        <min>-1</min>
      </int>
      <int>
        <name>poll_rate8</name>
        <max>5</max>
        <min>-1</min>
      </int>
      <int>
        <name>poll_wait8</name>
        <max>120</max>
        <min>5</min>
      </int>
    </layout>
    <on_receipt>
      <publish>
        <moos_var>ACOMMS_MAC_CYCLE_UPDATE</moos_var>
        <format>dest: %d update_type: %s slot { type: %s src: %d dest: %d rate: %d slot_seconds: %d } slot { type: %s src: %d dest: %d rate: %d slot_seconds: %d } slot { type: %s src: %d dest: %d rate: %d slot_seconds: %d } slot { type: %s src: %d dest: %d rate: %d slot_seconds: %d } slot { type: %s src: %d dest: %d rate: %d slot_seconds: %d } slot { type: %s src: %d dest: %d rate: %d slot_seconds: %d } slot { type: %s src: %d dest: %d rate: %d slot_seconds: %d } slot { type: %s src: %d dest: %d rate: %d slot_seconds: %d }</format>
        <all />
      </publish>
    </on_receipt>
    <queuing>
      <ttl>300</ttl>
      <value_base>10</value_base>
    </queuing>
  </message>
</message_set>
